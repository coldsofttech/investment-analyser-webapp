<h2 class="title">
    <i class="bi bi-exclamation-triangle me-md-0 me-0"></i>
    Risk Factors
</h2>
<div class="row">
    <div class="col-md-6">
        <ul class="details-list">
            <li class="d-flex justify-content-between" id="risk-beta-container">
                <strong>Beta:</strong> <span id="risk-beta" class="text-right"></span>
            </li>
            <li class="d-flex justify-content-between" id="risk-market-cap-container">
                <strong>Market Cap:</strong> <span id="risk-market-cap" class="text-right"></span>
            </li>
            <li class="d-flex justify-content-between" id="risk-max-drawdown-container">
                <strong>Max Drawdown:</strong> <span id="risk-max-drawdown" class="text-right"></span>
            </li>
        </ul>
    </div>
    <div class="col-md-6">
        <ul class="details-list">
            <li class="d-flex justify-content-between" id="risk-sharpe-ratio-container">
                <strong>Sharpe Ratio:</strong> <span id="risk-sharpe-ratio" class="text-right"></span>
            </li>
            <li class="d-flex justify-content-between" id="risk-volatility-container">
                <strong>Volatility:</strong> <span id="risk-volatility" class="text-right"></span>
            </li>
        </ul>
    </div>
</div>

<script>
    document.addEventListener('riskFactorsReady', async function(event) {
        const beta = event.detail?.beta;
        const marketCap = event.detail?.marketCap;
        const maxDrawdown = event.detail?.maxDrawdown;
        const sharpeRatio = event.detail?.sharpeRatio;
        const volatility = event.detail?.volatility;
        const getClass = (val) => {
            return `d-flex justify-content-between ${val.replace(' ', '-').toLowerCase()}`;
        }

        $('#risk-beta').text(beta.risk);
        $('#risk-beta-container').attr('class', getClass(beta.risk));

        $('#risk-market-cap').text(marketCap.risk);
        $('#risk-market-cap-container').attr('class', getClass(marketCap.risk));

        $('#risk-max-drawdown').text(maxDrawdown.risk);
        $('#risk-max-drawdown-container').attr('class', getClass(maxDrawdown.risk));

        $('#risk-sharpe-ratio').text(sharpeRatio.risk);
        $('#risk-sharpe-ratio-container').attr('class', getClass(sharpeRatio.risk));

        $('#risk-volatility').text(volatility.risk);
        $('#risk-volatility-container').attr('class', getClass(volatility.risk));
    });
</script>